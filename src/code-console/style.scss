// Variables de entorno
$term-bg: #1e1e1e;
$term-header: #323232;
$term-border: #333;
$dot-red: #ff5f56;
$dot-yellow: #ffbd2e;
$dot-green: #27c93f;
$accent-color: #f1c40f;

.tk-console-wrapper.wp-block-triskelion-code-console {
	margin: var(--space-m) 0;
	width: 100%;
	background-color: $term-bg;
	border: 1px solid $term-border;
	border-radius: 12px;
	overflow: hidden;
	display: flex;
	flex-direction: column;
	filter: drop-shadow(0 20px 40px rgba(0, 0, 0, 0.4));

	.tk-console-header {
		background-color: $term-header;
		display: flex;
		align-items: center;
		padding: 0 16px;
		height: 44px;
		border-bottom: 1px solid #121212;

		.tk-console-dots {
			display: flex;
			gap: 8px;
			margin-right: 20px;

			.tk-dot {
				width: 12px; height: 12px; border-radius: 50%; position: relative;
				&.red { background-color: $dot-red; }
				&.yellow { background-color: $dot-yellow; }
				&.green { background-color: $dot-green; }

				&::after {
					content: ''; position: absolute; top: 2px; left: 3px;
					width: 6px; height: 3px; background: rgba(255, 255, 255, 0.15); border-radius: 50%;
				}
			}
		}

		.tk-console-tabs-nav {
			display: flex; height: 100%;

			.tk-tab-item {
				background: transparent; border: none; color: #858585; padding: 0 16px;
				font-size: 12px; font-family: inherit; cursor: pointer;
				border-right: 1px solid rgba(0, 0, 0, 0.2); height: 100%;
				position: relative; transition: all 0.2s ease;

				&.is-active {
					background-color: $term-bg; color: #fff;
					// Borde superior de pestaña activa
					&::before {
						content: ''; position: absolute; top: 0; left: 0; right: 0;
						height: 2px; background-color: $accent-color;
					}
				}
				&:hover:not(.is-active) { background-color: rgba(255, 255, 255, 0.05); }
			}
		}
	}

	.tk-console-body {
		background-color: $term-bg !important;

		.tk-tab-content {
			background-color: $term-bg !important;
			padding: 8px 20px 20px 20px; // Reducción quirúrgica del padding superior
			display: none;

			&.is-active { display: block; }

			.tk-wrapper {
				.tk-outer-container {
					.tk-content {
						pre[class*="language-"] {
							background: transparent !important; margin: 0 !important;
							padding: 0 !important; border: none !important;
							position: relative; overflow: visible;

							code {
								background: transparent !important;
								font-family: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;
								font-size: 14px; line-height: 1.6; color: #d4d4d4;
								text-shadow: none !important;
							}

							.tk-badge {
								position: absolute; right: 65px; top: 5px;
								color: #444; font-size: 10px; font-weight: bold; opacity: 0.6;
							}

							.tk-copy {
								position: absolute; right: 0; top: 0;
								background: #333; border: 1px solid #444; color: #ccc;
								padding: 2px 8px; border-radius: 4px; font-size: 11px;
								cursor: pointer; transition: all 0.2s;
								&:hover { background: #444; color: #fff; }
							}
						}
					}
				}
			}
		}
	}
}
